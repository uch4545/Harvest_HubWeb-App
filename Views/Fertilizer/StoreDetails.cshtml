@model HarvestHub.WebApp.Models.AgriSupplyStore
@{
    ViewData["Title"] = Model.StoreName;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .store-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }
    
    .store-header {
        background: linear-gradient(135deg, #075e54, #128c7e);
        color: white;
        border-radius: 15px;
        padding: 40px;
        margin-bottom: 25px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .store-title {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 20px;
    }
    
    .store-info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin-top: 20px;
    }
    
    .info-box {
        background: rgba(255,255,255,0.2);
        padding: 15px;
        border-radius: 10px;
    }
    
    .info-box-label {
        font-size: 0.9rem;
        opacity: 0.9;
        margin-bottom: 5px;
    }
    
    .info-box-value {
        font-size: 1.1rem;
        font-weight: 600;
    }
    
    .verified-badge {
        display: inline-block;
        padding: 8px 15px;
        background: #4caf50;
        color: white;
        border-radius: 20px;
        font-size: 0.9rem;
        margin-top: 15px;
    }
    
    .contact-buttons {
        margin-top: 20px;
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
    }
    
    .contact-btn {
        display: inline-block;
        padding: 12px 25px;
        background: #25d366;
        color: white;
        border-radius: 10px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s;
    }
    
    .contact-btn:hover {
        background: #1da851;
        color: white;
        transform: translateY(-2px);
    }
    
    .products-section {
        background: white;
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 25px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .section-title {
        font-size: 1.8rem;
        font-weight: 700;
        color: #075e54;
        margin-bottom: 25px;
    }
    
    .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
    }
    
    .product-card {
        background: #f5f5f5;
        border-radius: 12px;
        padding: 20px;
        transition: transform 0.3s;
    }
    
    .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }
    
    .product-image {
        width: 100%;
        height: 150px;
        object-fit: contain;
        border-radius: 10px;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3rem;
        margin-bottom: 15px;
    }
    
    .product-name {
        font-size: 1.1rem;
        font-weight: 700;
        color: #075e54;
        margin-bottom: 10px;
    }
    
    .product-brand {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 10px;
    }
    
    .price-tag {
        display: inline-block;
        padding: 8px 15px;
        background: #128c7e;
        color: white;
        border-radius: 8px;
        font-weight: 700;
        font-size: 1rem;
    }
    
    .stock-status {
        margin-top: 10px;
        font-size: 0.9rem;
    }
    
    .in-stock {
        color: #4caf50;
        font-weight: 600;
    }
    
    .out-of-stock {
        color: #f44336;
        font-weight: 600;
    }
    
    .back-btn {
        display: inline-block;
        padding: 12px 30px;
        background: white;
        color: #075e54;
        border-radius: 10px;
        text-decoration: none;
        margin-bottom: 20px;
        font-weight: 600;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .back-btn:hover {
        background: #f5f5f5;
        color: #075e54;
    }
</style>

<div class="store-container">
    <a href="@Url.Action("StoreDirectory")" class="back-btn">‚Üê Back to Stores / ŸàÿßŸæÿ≥</a>
    
    <div class="store-header">
        <div class="store-title">üè™ @Model.StoreName</div>
        
        @if (Model.IsVerified)
        {
            <div class="verified-badge">‚úì Verified Store / ÿ™ÿµÿØ€åŸÇ ÿ¥ÿØ€Å</div>
        }
        
        <div class="store-info-grid">
            @if (!string.IsNullOrEmpty(Model.OwnerName))
            {
                <div class="info-box">
                    <div class="info-box-label">Owner / ŸÖÿßŸÑ⁄©</div>
                    <div class="info-box-value">üë§ @Model.OwnerName</div>
                </div>
            }
            
            <div class="info-box">
                <div class="info-box-label">City / ÿ¥€Åÿ±</div>
                <div class="info-box-value">üèôÔ∏è @Model.City.Name</div>
            </div>
            
            <div class="info-box">
                <div class="info-box-label">Contact / ÿ±ÿßÿ®ÿ∑€Å</div>
                <div class="info-box-value">üìû @Model.ContactNumber</div>
            </div>
            
            <div class="info-box">
                <div class="info-box-label">Address / Ÿæÿ™€Å</div>
                <div class="info-box-value">üìç @Model.Address</div>
            </div>
        </div>
        
        <div class="contact-buttons">
            @if (!string.IsNullOrEmpty(Model.WhatsAppNumber))
            {
                <a href="https://wa.me/@Model.WhatsAppNumber.Replace("+", "").Replace("-", "").Replace(" ", "")" 
                   class="contact-btn" target="_blank">
                    üí¨ Contact on WhatsApp
                </a>
            }
            <a href="tel:@Model.ContactNumber" class="contact-btn" style="background: #128c7e;">
                üìû Call Now
            </a>
        </div>
    </div>
    
    @if (Model.StoreProducts != null && Model.StoreProducts.Any())
    {
        <div class="products-section">
            <div class="section-title">üå± Available Products / ÿØÿ≥ÿ™€åÿßÿ® Ÿæÿ±Ÿà⁄à⁄©Ÿπÿ≥</div>
            
            <div class="products-grid">
                @foreach (var storeProduct in Model.StoreProducts)
                {
                    <div class="product-card">
                        @if (!string.IsNullOrEmpty(storeProduct.Product.ImageUrl))
                        {
                            <img src="@storeProduct.Product.ImageUrl" alt="@storeProduct.Product.Name" class="product-image" style="height: auto; max-height: 150px;" />
                        }
                        else
                        {
                            <div class="product-image">@storeProduct.Product.Category?.Icon</div>
                        }
                        
                        <div class="product-name">@storeProduct.Product.Name</div>
                        
                        @if (!string.IsNullOrEmpty(storeProduct.Product.Brand))
                        {
                            <div class="product-brand">Brand: @storeProduct.Product.Brand</div>
                        }
                        
                        @if (storeProduct.Price.HasValue)
                        {
                            <div class="price-tag">Rs. @storeProduct.Price.Value.ToString("N0")</div>
                        }
                        
                        <div class="stock-status">
                            @if (storeProduct.IsInStock)
                            {
                                <span class="in-stock">‚úì In Stock / ŸÖŸàÿ¨ŸàÿØ</span>
                            }
                            else
                            {
                                <span class="out-of-stock">‚úó Out of Stock / ÿÆÿ™ŸÖ</span>
                            }
                        </div>
                        
                        <div style="margin-top: 15px;">
                            <a href="@Url.Action("ProductDetails", new { id = storeProduct.Product.Id })" 
                               style="color: #128c7e; text-decoration: none; font-weight: 600;">
                                View Details ‚Üí
                            </a>
                        </div>
                    </div>
                }
            </div>
        </div>
    }
    else
    {
        <div class="products-section">
            <p style="text-align: center; color: #666; padding: 40px 20px;">
                üì¶ No products listed for this store yet / ÿßÿ®⁄æ€å ⁄©Ÿàÿ¶€å Ÿæÿ±Ÿà⁄à⁄©Ÿπ ŸÜ€Å€å⁄∫
            </p>
        </div>
    }
</div>
